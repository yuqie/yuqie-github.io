<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://yoursite.com').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.7.1',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="HTTP知识安全和幂等的概念在 HTTP 协议里，所谓的「安全」是指请求方法不会「破坏」服务器上的资源。所谓的「幂等」，意思是多次执行相同的操作，结果都是「相同」的。 GET 方法是安全且幂等的，因为它是「只读」操作，无论操作多少次，服务器上的数据都是安全的，且每次的结果都是相同的。POST 因为是「新增或提交数据」的操作，会修改服务器上的资源，所以是不安全的，且多次提交数据就会创建多个资源，所以">
<meta property="og:type" content="article">
<meta property="og:title" content="网络相关知识">
<meta property="og:url" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/index.html">
<meta property="og:site_name" content="Ringinmay&#39;s Blog">
<meta property="og:description" content="HTTP知识安全和幂等的概念在 HTTP 协议里，所谓的「安全」是指请求方法不会「破坏」服务器上的资源。所谓的「幂等」，意思是多次执行相同的操作，结果都是「相同」的。 GET 方法是安全且幂等的，因为它是「只读」操作，无论操作多少次，服务器上的数据都是安全的，且每次的结果都是相同的。POST 因为是「新增或提交数据」的操作，会修改服务器上的资源，所以是不安全的，且多次提交数据就会创建多个资源，所以">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599625816283.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599626314741.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599626438580.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599626499535.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599626848504.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599626543682.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599629584305.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599629683644.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599629833778.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599631076301.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599631155764.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599631291826.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599626206478.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599632892092.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599642681552.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599633694899.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599633743475.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599643761263.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599643783667.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599643796582.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599646372406.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599646805689.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599646862552.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599647032468.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599650022884.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599650138256.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599647186623.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599647353466.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599657284840.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599658362894.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599701097569.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599701589673.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599701705091.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599702117779.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599647484820.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599647574610.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599647663399.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599648804365.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599648944157.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599649188561.png">
<meta property="og:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599649299268.png">
<meta property="article:published_time" content="2020-09-09T02:33:28.000Z">
<meta property="article:modified_time" content="2020-09-16T02:47:08.223Z">
<meta property="article:author" content="QQAI">
<meta property="article:tag" content="http">
<meta property="article:tag" content="tcp">
<meta property="article:tag" content="IP">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86.assets/1599625816283.png">

<link rel="canonical" href="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>网络相关知识 | Ringinmay's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Ringinmay's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Home is behind, the world ahead</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/09/%E7%BD%91%E7%BB%9C%E5%B8%B8%E8%A7%81%E7%9F%A5%E8%AF%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpg">
      <meta itemprop="name" content="QQAI">
      <meta itemprop="description" content="Home is behind, the world ahead">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ringinmay's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          网络相关知识
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-09-09 10:33:28" itemprop="dateCreated datePublished" datetime="2020-09-09T10:33:28+08:00">2020-09-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-09-16 10:47:08" itemprop="dateModified" datetime="2020-09-16T10:47:08+08:00">2020-09-16</time>
              </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="HTTP知识"><a href="#HTTP知识" class="headerlink" title="HTTP知识"></a>HTTP知识</h2><h3 id="安全和幂等的概念"><a href="#安全和幂等的概念" class="headerlink" title="安全和幂等的概念"></a>安全和幂等的概念</h3><p>在 HTTP 协议里，所谓的「安全」是指请求方法不会「破坏」服务器上的资源。<br>所谓的「幂等」，意思是多次执行相同的操作，结果都是「相同」的。</p>
<p><strong>GET 方法是安全且幂等的</strong>，因为它是「只读」操作，无论操作多少次，服务器上的数据都是安全的，且每次的结果都是相同的。<br><strong>POST </strong>因为是「新增或提交数据」的操作，会修改服务器上的资源，所以是<strong>不安全</strong>的，且多次提交数据就会创建多个资源，所以<strong>不是幂等</strong>的。</p>
<h3 id="HTTP的优缺点"><a href="#HTTP的优缺点" class="headerlink" title="HTTP的优缺点"></a>HTTP的优缺点</h3><p>HTTP 最凸出的优点是「简单、灵活和易于扩展、应用广泛和跨平台」。</p>
<p>HTTP 协议缺点是「无状态、明文传输」，同时还有一大缺点「不安全」。</p>
<blockquote>
<ol>
<li><p>无状态的好处，因为服务器不会去记忆 HTTP 的状态，所以不需要额外的资源来记录状态信息，这能减轻服务器的负担，能够把更多的 CPU 和内存用来对外提供服务。</p>
<p>无状态的坏处，既然服务器没有记忆能力，它在完成有关联性的操作时会非常麻烦。</p>
<p><strong>可以通过cookie解决</strong></p>
</li>
<li><p>明文意味着在传输过程中的信息，是可方便阅读的，通过浏览器的 F12 控制台或 Wireshark 抓包都可以直接肉眼查看，为我们调试工作带了极大的便利性。<br>但HTTP 的所有信息都暴露在了光天化日下，相当于信息裸奔。在传输的漫长的过程中，信息的内容都毫无隐私可言，很容易就能被窃取，如果里面有你的账号密码信息，那你号没了。</p>
</li>
<li><p>HTTP 比较严重的缺点就是不安全：</p>
<ul>
<li><p>通信使用明文（不加密），内容可能会被窃听。比如，账号信息容易泄漏，那你号没了。</p>
</li>
<li><p>不验证通信方的身份，因此有可能遭遇伪装。比如，访问假的淘宝、拼多多，那你钱没了。</p>
</li>
<li><p>无法证明报文的完整性，所以有可能已遭篡改。比如，网页上植入垃圾广告，视觉污染，眼没了。</p>
<p><strong>通过HTTPS解决：在 HTTP 与 TCP 层之间增加了 SSL/TLS 安全传输层，HTTP/3 甚至把 TCP 层换成了基于 UDP 的 QUIC。</strong></p>
</li>
</ul>
</li>
</ol>
</blockquote>
<p><img src="网络常见知识.assets\1599625816283.png" alt="1599625816283"></p>
<h2 id="IP知识"><a href="#IP知识" class="headerlink" title="IP知识"></a>IP知识</h2><h3 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h3><p>IP 在 TCP/IP 参考模型中处于第三层，也就是网络层。<br>网络层的主要作用是：实现主机与主机之间的通信，也叫点对点（end to end）通信。</p>
<p>IP 地址（IPv4 地址）由 32 位正整数来表示，IP 地址在计算机是以二进制的方式处理的。</p>
<p><img src="网络常见知识.assets\1599626314741.png" alt="1599626314741"></p>
<p>IP地址最大$2^{32}$ ，大约43亿，IP 地址并不是根据主机台数来配置的，而是以网卡。</p>
<p><img src="网络常见知识.assets\1599626438580.png" alt="1599626438580"></p>
<h3 id="IP-地址的分类"><a href="#IP-地址的分类" class="headerlink" title="IP 地址的分类"></a>IP 地址的分类</h3><p>IP 地址分类成了 5 种类型，分别是 A 类、B 类、C 类、D 类、E 类。</p>
<p><img src="网络常见知识.assets\1599626499535.png" alt="1599626499535"></p>
<p>D 类和 E 类地址是没有主机号的，所以不可用于主机 IP，D 类常被用于多播，E 类是预留的分类，暂时未使用。</p>
<p><img src="网络常见知识.assets\1599626848504.png" alt="1599626848504"></p>
<p>多播用于将包发送给特定组内的所有主机。由于广播无法穿透路由，若想给其他网段发送同样的包，就可以使用可以穿透路由的多播。</p>
<ul>
<li>224.0.0.0 ~ 224.0.0.255 为预留的组播地址，只能在局域网中，路由器是不会进行转发的。</li>
<li>224.0.1.0 ~ 238.255.255.255 为用户可用的组播地址，可以用于 Internet 上。</li>
<li>239.0.0.0 ~ 239.255.255.255 为本地管理组播地址，可供内部网在内部使用，仅在特定的本地范围内有效。</li>
</ul>
<p>对于 A、B、C 类主要分为两个部分，分别是网络号和主机号。</p>
<p><img src="网络常见知识.assets\1599626543682.png" alt="1599626543682"></p>
<p>在 IP 地址中，有两个 IP 是特殊的，分别是主机号全为 1 和 全为 0 地址。</p>
<ul>
<li>主机号全为 1 指定某个网络下的所有主机，用于广播（广播地址用于在同一个链路中相互连接的主机之间发送数据包）</li>
<li>主机号全为 0 指定某个网络</li>
</ul>
<p>广播地址可以分为本地广播和直接广播：</p>
<ul>
<li>在本网络内广播的叫做本地广播。例如网络地址为 192.168.0.0/24 的情况下，广播地址是192.168.0.255 。因为这个广播地址的 IP 包会被路由器屏蔽，所以不会到达 192.168.0.0/24 以外的其他链路上。</li>
<li>在不同网络之间的广播叫做直接广播。例如网络地址为 192.168.0.0/24 的主机向192.168.1.255/24 的目标地址发送 IP 包。收到这个包的路由器，将数据转发给 192.168.1.0/24，从而使得所有 192.168.1.1~192.168.1.254 的主机都能收到这个包（由于直接广播有一定的安全问题，多数情况下会在路由器上设置为不转发。） 。</li>
</ul>
<h3 id="IP分类的优缺点"><a href="#IP分类的优缺点" class="headerlink" title="IP分类的优缺点"></a>IP分类的优缺点</h3><ol>
<li>同一网络下没有地址层次，比如一个公司里用了 B 类地址，但是可能需要根据生产环境、测试环境、开发环境来划分地址层次，而这种 IP 分类是没有地址层次划分的功能，所以这就缺少地址的灵活性。</li>
<li>A、B、C类有个尴尬处境，就是不能很好的与现实网络匹配。C 类地址能包含的最大主机数量实在太少了，只有 254 个。而 B 类地址能包含的最大主机数量又太多了，6 万多台机器放在一个网络下面，一般的企业基本达不到这个规模，闲着的地址就是浪费。</li>
</ol>
<h3 id="无分类地址-CIDR"><a href="#无分类地址-CIDR" class="headerlink" title="无分类地址 CIDR"></a>无分类地址 CIDR</h3><p>32 比特的 IP 地址被划分为两部分，前面是网络号，后面是主机号。表示形式 a.b.c.d/x ，其中 /x 表示前 x 位属于网络号， x 的范围是 0 ~ 32 ，这就使得 IP 地址更加具有灵活性。</p>
<p>另一种划分网络号与主机号形式，那就是子网掩码，掩码的意思就是掩盖掉主机号，剩余的就是网络号。将子网掩码和 IP 地址按位计算 AND，就可得到网络号。</p>
<blockquote>
<p>两台计算机要通讯，首先要判断是否处于同一个广播域内，即网络地址是否相同。如果网络地址相同，表明接受方在本网络上，那么可以把数据包直接发送到目标主机。</p>
</blockquote>
<h3 id="子网划分"><a href="#子网划分" class="headerlink" title="子网划分"></a>子网划分</h3><p>子网掩码的另一个作用，子网划分实际上是将主机地址分为两个部分：子网网络地址和子网主机地址。</p>
<h3 id="公有-IP-地址与私有-IP-地址"><a href="#公有-IP-地址与私有-IP-地址" class="headerlink" title="公有 IP 地址与私有 IP 地址"></a>公有 IP 地址与私有 IP 地址</h3><p><img src="网络常见知识.assets\1599629584305.png" alt="1599629584305"></p>
<p>私有 IP 地址允许组织内部的 IT人员自己管理、自己分配，而且可以重复。</p>
<p>公有 IP 地址是由 ICANN 组织管理，中文叫「互联网名称与数字地址分配机构」。IANA 是 ICANN 的其中一个机构，它负责分配互联网 IP 地址，是按州的方式层层分配。在中国是由 CNNIC 的机构进行管理，它是中国国内唯一指定的全局 IP 地址管理的组织。<br><img src="网络常见知识.assets\1599629683644.png" alt="1599629683644"></p>
<h3 id="IP-地址与路由控制"><a href="#IP-地址与路由控制" class="headerlink" title="IP 地址与路由控制"></a>IP 地址与路由控制</h3><p>IP地址的网络地址这一部分是用于进行路由控制。</p>
<p><img src="网络常见知识.assets\1599629833778.png" alt="1599629833778"></p>
<h3 id="环回地址"><a href="#环回地址" class="headerlink" title="环回地址"></a>环回地址</h3><p>环回地址是在同一台计算机上的程序之间进行网络通信时所使用的一个默认地址。</p>
<p>计算机使用一个特殊的 IP 地址 127.0.0.1 作为环回地址。与该地址具有相同意义的是一个叫做localhost 的主机名。使用这个 IP 或主机名时，数据包不会流向网络。</p>
<h3 id="IP-分片与重组"><a href="#IP-分片与重组" class="headerlink" title="IP 分片与重组"></a>IP 分片与重组</h3><p>每种数据链路的最大传输单元 MTU 都是不相同的，如 FDDI 数据链路 MTU 4352、以太网的 MTU 是1500 字节等。</p>
<p>那么当 IP 数据包大小大于 MTU 时， IP 数据包就会被分片。经过分片之后的 IP 数据报在被重组的时候，只能由目标主机进行，路由器是不会进行重组的。</p>
<h3 id="IPv6-基本认识"><a href="#IPv6-基本认识" class="headerlink" title="IPv6 基本认识"></a>IPv6 基本认识</h3><p>IPv6 地址长度是 128 位，是以每 16 位作为一组，每组用冒号 「:」 隔开。</p>
<p><img src="网络常见知识.assets\1599631076301.png" alt="1599631076301"></p>
<h3 id="IPv6-的优点"><a href="#IPv6-的优点" class="headerlink" title="IPv6 的优点"></a>IPv6 的优点</h3><blockquote>
<p>IPv6 可自动配置，即使没有 DHCP 服务器也可以实现自动分配IP地址，即插即用。</p>
<p>IPv6 包头包首部长度采用固定的值 40 字节，去掉了包头校验和，简化了首部结构，减轻了路由器负荷，大大提高了传输的性能。</p>
<p>IPv6 有应对伪造 IP 地址的网络安全功能以及防止线路窃听的功能，大大提升了安全性。</p>
</blockquote>
<h3 id="IPv6-地址的类型"><a href="#IPv6-地址的类型" class="headerlink" title="IPv6 地址的类型"></a>IPv6 地址的类型</h3><ol>
<li><p>单播地址，用于一对一的通信</p>
<blockquote>
<ul>
<li>在同一链路单播通信，不经过路由器，可以使用链路本地单播地址，IPv4 没有此类型</li>
<li>在内网里单播通信，可以使用唯一本地地址，相当于 IPv4 的私有 IP</li>
<li>在互联网通信，可以使用全局单播地址，相当于 IPv4 的公有 IP</li>
</ul>
</blockquote>
</li>
<li><p>组播地址，用于一对多的通信</p>
</li>
<li><p>任播地址，用于通信最近的节点，最近的节点是由路由协议决定</p>
</li>
<li><p>没有广播地址</p>
</li>
</ol>
<p><img src="网络常见知识.assets\1599631155764.png" alt="1599631155764"></p>
<h3 id="IPv4-首部与-IPv6-首部"><a href="#IPv4-首部与-IPv6-首部" class="headerlink" title="IPv4 首部与 IPv6 首部"></a>IPv4 首部与 IPv6 首部</h3><p><img src="网络常见知识.assets\1599631291826.png" alt="1599631291826"></p>
<h3 id="IP（网络层）-和-MAC-（数据链路层）之间的区别和关系"><a href="#IP（网络层）-和-MAC-（数据链路层）之间的区别和关系" class="headerlink" title="IP（网络层） 和 MAC （数据链路层）之间的区别和关系"></a>IP（网络层） 和 MAC （数据链路层）之间的区别和关系</h3><p>IP 的作用是主机之间通信用的，而 MAC 的作用则是实现「直连」的两个设备之间通信，而 IP 则负责在「没有直连」的两个网络之间进行通信传输。</p>
<p><img src="网络常见知识.assets\1599626206478.png" alt="1599626206478"></p>
<p>在网络中数据包传输中，源IP地址和目标IP地址在传输过程中是不会变化的，只有 MAC 地址和目标 MAC 一直在变化。</p>
<h3 id="ARP"><a href="#ARP" class="headerlink" title="ARP"></a>ARP</h3><p>在DNS解析域名后，确定了源 IP 地址和目标 IP 地址后，就会通过主机「路由表」确定 IP 数据包下一跳。</p>
<p>由于主机的路由表中可以找到下一跳的 IP 地址，所以可以通过 ARP 协议，求得下一跳的 MAC 地址。</p>
<blockquote>
<ul>
<li>主机会通过广播发送 ARP 请求，这个包中包含了想要知道的 MAC 地址的主机 IP 地址。</li>
<li>当同个链路中的所有设备收到 ARP 请求时，会去拆开 ARP 请求包里的内容，如果 ARP 请求包中的目标 IP 地址与自己的 IP 地址一致，那么这个设备就将自己的 MAC 地址塞入 ARP 响应包返回给主机。</li>
</ul>
</blockquote>
<h3 id="RARP"><a href="#RARP" class="headerlink" title="RARP"></a>RARP</h3><p>已知 MAC 地址求 IP 地址。例如将打印机服务器等小型嵌入式设备接入到网络时就经常会用得到。</p>
<h3 id="DHCP"><a href="#DHCP" class="headerlink" title="DHCP"></a>DHCP</h3><p>通过 DHCP 动态获取 IP 地址，大大省去了配IP 信息繁琐的过程。</p>
<p>DHCP 客户端进程监听的是 68 端口号，DHCP 服务端进程监听的是 67 端口号。DHCP 交互中，全程使用 UDP 广播通信。</p>
<h3 id="NAT"><a href="#NAT" class="headerlink" title="NAT"></a>NAT</h3><p>网络地址转换 NAT 的方法，缓解了 IPv4 地址耗尽的问题。</p>
<p>简单的来说 NAT 就是同个公司、家庭、教室内的主机对外部通信时，把私有 IP 地址转换成公有 IP 地址。</p>
<p>可以把 IP 地址 + 端口号一起进行转换，这种转换技术就叫网络地址与端口转换 NAPT。</p>
<h3 id="ICMP（互联网控制报文协议）"><a href="#ICMP（互联网控制报文协议）" class="headerlink" title="ICMP（互联网控制报文协议）"></a>ICMP（互联网控制报文协议）</h3><p>ICMP 全称是 Internet Control Message Protocol，也就是互联网控制报文协议。主要的功能包括：确认 IP 包是否成功送达目标地址、报告发送过程中 IP 包被废弃的原因和改善网络设置等。</p>
<p><img src="网络常见知识.assets\1599632892092.png" alt="1599632892092"></p>
<p>3：IP 路由器无法将 IP 数据包发送给目标地址时，会给发送端主机返回一个目标不可达的 ICMP 消息，并在这个消息中显示不可达的具体原因，<strong>原因记录在 ICMP 包头的代码字段。</strong></p>
<p><img src="网络常见知识.assets\1599642681552.png" alt="1599642681552"></p>
<p>4：原点抑制消息（ICMP Source Quench Message），当路由器向低速线路发送数据时，其发送队列的缓存变为零而无法发送出去时，可以向 IP 包的源地址发送一个 ICMP 原点抑制消息。</p>
<p>5：路由器发现发送端主机使用了「不是最优」的路径发送数据，那么它会返回一个 ICMP 重定向消息给这个主机。</p>
<p>11：IP 包中有一个字段叫做 TTL （ Time To Live ，生存周期），它的值随着每经过一次路由器就会减1，直到减到 0 时该 IP 包会被丢弃。设置 IP 包生存周期的主要目的，是为了在路由控制遇到问题发生循环状况时，避免 IP 包无休止地在网络上被转发。</p>
<h3 id="IGMP（因特网组管理协议）"><a href="#IGMP（因特网组管理协议）" class="headerlink" title="IGMP（因特网组管理协议）"></a>IGMP（因特网组管理协议）</h3><p>IGMP 是因特网组管理协议，工作在主机（组播成员）和最后一跳路由之间，</p>
<p>D 类地址，也就是组播地址，只有一组的主机能收到数据包，不在一组的主机不能收到数组包。</p>
<h2 id="Ping命令"><a href="#Ping命令" class="headerlink" title="Ping命令"></a>Ping命令</h2><p>ping 是基于 ICMP 协议工作的。</p>
<p>ICMP 报文是封装在 IP 包里面，它工作在网络层，是 IP 协议的助手。</p>
<p><img src="网络常见知识.assets\1599633694899.png" alt="1599633694899"></p>
<p><img src="网络常见知识.assets\1599633743475.png" alt="1599633743475"></p>
<p>可以向对端主机发送回送请求的消息（ ICMP Echo Request Message ，类型 8 ），也可以接收对端主机发回来的回送应答消息（ ICMP Echo Reply Message ，类型 0 ）。</p>
<h3 id="ping-的发送和接收过程"><a href="#ping-的发送和接收过程" class="headerlink" title="ping 的发送和接收过程"></a>ping 的发送和接收过程</h3><p>同个子网下的主机 A 和 主机 B，主机 A 执行 ping 主机 B 后，我们来看看其间发送了什么</p>
<ol>
<li><p>构建一个 ICMP 回送请求消息数据包。</p>
<p><img src="网络常见知识.assets\1599643761263.png" alt="1599643761263"></p>
</li>
<li><p>构建一个 IP 数据包</p>
<p><img src="网络常见知识.assets\1599643783667.png" alt="1599643783667"></p>
</li>
<li><p>加入 MAC头</p>
</li>
</ol>
<p><img src="网络常见知识.assets\1599643796582.png" alt="1599643796582"></p>
<ol>
<li><p>主机 B 收到这个数据帧后，先检查它的目的 MAC 地址，并和本机的 MAC 地址对比，如符合，则接收，否则就丢弃。接收后检查该数据帧，将 IP 数据包从帧中提取出来，交给本机的 IP 层。同样，IP 层检查后，将有用的信息提取后交给 ICMP 协议。主机 B 会构建一个 ICMP 回送响应消息数据包</p>
<p><img src="网络常见知识.assets\1599646372406.png" alt="1599646372406"></p>
</li>
</ol>
<h2 id="访问网址"><a href="#访问网址" class="headerlink" title="访问网址"></a>访问网址</h2><h3 id="URL解析"><a href="#URL解析" class="headerlink" title="URL解析"></a>URL解析</h3><p><img src="网络常见知识.assets\1599646805689.png" alt="1599646805689"></p>
<p>当没有路径名时，就代表访问根目录下事先设置的默认文件，也就是 /index.html 或者 /default.html</p>
<h3 id="生产-HTTP-请求信息"><a href="#生产-HTTP-请求信息" class="headerlink" title="生产 HTTP 请求信息"></a>生产 HTTP 请求信息</h3><p><img src="网络常见知识.assets\1599646862552.png" alt="1599646862552"></p>
<h3 id="查询真实IP地址"><a href="#查询真实IP地址" class="headerlink" title="查询真实IP地址"></a>查询真实IP地址</h3><p>查询服务器域名对应的 IP 地址，因为委托操作系统发送消息时，必须提供通信对象的 IP 地址。</p>
<p>DNS 服务器专门保存了 Web 服务器域名与 IP 的对应关系。</p>
<h3 id="协议栈"><a href="#协议栈" class="headerlink" title="协议栈"></a>协议栈</h3><p>把 HTTP 的传输工作交给操作系统中的协议栈，协议栈的内部分为几个部分，分别承担不同的工作。上下关系是有一定的规则的，上面的部分会向下面的部分委托工作，下面的部分收到委托的工作并执行。</p>
<p><img src="网络常见知识.assets\1599647032468.png" alt="1599647032468"></p>
<h3 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h3><h4 id="基础知识-1"><a href="#基础知识-1" class="headerlink" title="基础知识"></a>基础知识</h4><p>TCP 是面向连接（一对一，UDP可以一对多）的、可靠的、基于字节流的传输层通信协议。</p>
<p>TCP连接，包括Socket、序列号和窗口大小，用于保证可靠性和流量控制维护的某些状态信息。</p>
<ul>
<li>Socket：由 IP 地址和端口号组成</li>
<li>序列号：用来解决乱序问题等</li>
<li>窗口大小：用来做流量控制</li>
</ul>
<p><img src="网络常见知识.assets\1599650022884.png" alt="1599650022884"></p>
<p>TCP 四元组可以唯一的确定一个连接，端口在TCP头部中，地址在IP头部中。</p>
<h4 id="UDP和TCP"><a href="#UDP和TCP" class="headerlink" title="UDP和TCP"></a>UDP和TCP</h4><p>UDP 不提供复杂的控制机制，利用 IP 提供面向「无连接」的通信服务。<br>UDP 协议非常简单，头部只有 8 个字节（ 64 位），UDP 的头部格式如下：</p>
<p><img src="网络常见知识.assets\1599650138256.png" alt="1599650138256"></p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>TCP</th>
<th>UDP</th>
</tr>
</thead>
<tbody>
<tr>
<td>连接</td>
<td>向连接的传输层协议，传输数据前先要建立连接。</td>
<td>不需要连接，即刻传输数据</td>
</tr>
<tr>
<td>服务对象</td>
<td>一对一的两点服务，即一条连接只有两个端点</td>
<td>支持一对一、一对多、多对多的交互通信</td>
</tr>
<tr>
<td>可靠性</td>
<td>是可靠交付数据的，数据可以无差错、不丢失、不重复、按需到达。</td>
<td>尽最大努力交付，不保证可靠交付数据。</td>
</tr>
<tr>
<td>拥塞控制、流量控制</td>
<td>有拥塞控制和流量控制机制，保证数据传输的安全性。</td>
<td>即使网络非常拥堵了，也不会影响 UDP 的发送速率。</td>
</tr>
<tr>
<td>首部开销</td>
<td>首部长度较长，会有一定的开销，首部在没有使用「选项」字段时是 20 个字节，如果使</td>
<td>首部只有 8 个字节，并且是固定不变的，开销较小。</td>
</tr>
<tr>
<td>传输方式</td>
<td>流式传输，没有边界，但保证顺序和可靠。</td>
<td>是一个包一个包的发送，是有边界的，但可能会丢包和乱序。</td>
</tr>
<tr>
<td>分片不同</td>
<td>数据大小如果大于 MSS 大小，则会在传输层进行分片，目标主机收到后，也同样在传输</td>
<td>数据大小如果大于 MTU 大小，则会在 IP 层进行分片，目标主机收到后，在 IP 层组装完数据，接着再传给传输层，但是如果中途丢了一个分片，则就需要重传所有的数据包，这样传输</td>
</tr>
<tr>
<td>应用场景</td>
<td>FTP 文件传输 HTTP / HTTPS</td>
<td>包总量较少的通信，如 DNS 、SNMP 等，视频、音频等多媒体通信</td>
</tr>
</tbody>
</table>
</div>
<p>IP 层是「不可靠」的，它不保证网络包的交付、不保证网络包的按序交付、也不保证网络包中的数据的完整性。TCP 是一个工作在传输层的可靠数据传输的服务，它能确保接收端接收的网络包是无损坏、无间隔、非冗余和按序的。</p>
<h4 id="TCP-报文头部的格式"><a href="#TCP-报文头部的格式" class="headerlink" title="TCP 报文头部的格式:"></a>TCP 报文头部的格式:</h4><p><img src="网络常见知识.assets\1599647186623.png" alt="1599647186623"></p>
<ol>
<li><p>源端口号和目标端口号是不可少的，如果没有这两个端口号，数据就不知道应该发给哪个应用。</p>
</li>
<li><p>序号，在建立连接时由计算机生成的随机数作为其初始值，通过 SYN 包传给接收端主机，每发送一<br>次数据，就「累加」一次该「数据字节数」的大小。解决包乱序的问题。</p>
</li>
<li><p>确认号，指下一次「期望」收到的数据的序列号，发送端收到这个确认应答以后可以认为在这个序<br>号以前的数据都已经被正常接收，为了解决不丢包的问题。</p>
</li>
<li><p>控制位。</p>
<blockquote>
<ol>
<li><p>SYN 该位为 1 时，表示希望建立连接，并在其「序列号」的字段进行序列号初始值的设定。</p>
<blockquote>
<p>RFC1948 中提出了一个较好的初始化序列号 ISN 随机生成算法。<br>ISN = M + F (localhost, localport, remotehost, remoteport)<br>M 是一个计时器，这个计时器每隔 4 毫秒加 1。<br>F 是一个 Hash 算法，根据源 IP、目的 IP、源端口、目的端口生成一个随机数值。要保证Hash 算法不能被外部轻易推算得出，用 MD5 算法是一个比较好的选择。</p>
</blockquote>
</li>
<li><p>ACK 该位为 1 时，「确认应答」的字段变为有效，TCP 规定除了最初建立连接时的 SYN包之外该位必须设置为 1 。</p>
</li>
<li><p>RST 该位为 1 时，表示 TCP 连接中出现异常必须强制断开连接。</p>
</li>
<li><p>FIN 该位为 1 时，表示今后不会再有数据发送，希望断开连接。当通信结束希望断开连接时，通信双方的主机之间就可以相互交换 FIN 位为 1 的 TCP 段。</p>
<p>TCP 是面向连接的，因而双方要维护连接的状态，这些带状态位的包的发送，会引起双方的状态变更。</p>
</li>
</ol>
</blockquote>
</li>
<li><p>窗口大小。TCP 要做流量控制，通信双方各声明一个窗口（缓存大小），标识自己当前能够的处理能力，别发送的太快，也别发的太慢。</p>
</li>
</ol>
<h4 id="三次握手连接"><a href="#三次握手连接" class="headerlink" title="三次握手连接"></a>三次握手连接</h4><p><img src="网络常见知识.assets\1599647353466.png" alt="1599647353466"></p>
<ol>
<li>客户端和服务端都处于 CLOSED 状态。先是服务端主动监听某个端口，处于 LISTEN状态。</li>
<li>客户端主动发起连接 SYN ，之后处于 SYN-SENT 状态。</li>
<li>服务端收到发起的连接，返回 SYN ，并且 ACK 客户端的 SYN ，之后处于 SYN-RCVD 状态。</li>
<li>客户端收到服务端发送的 SYN 和 ACK 之后，发送 ACK 的 ACK ，之后处于ESTABLISHED 状态，因为它一发一收成功了。</li>
<li>服务端收到 ACK 的 ACK 之后，处于 ESTABLISHED 状态，因为它也一发一收了。</li>
</ol>
<p>第三次握手是可以携带数据的，前两次握手是不可以携带数据的，</p>
<h4 id="三次握手的原因"><a href="#三次握手的原因" class="headerlink" title="三次握手的原因"></a>三次握手的原因</h4><ol>
<li><p>防止旧的重复连接初始化造成混乱。</p>
<blockquote>
<p>在网络拥堵情况下：<br>一个「旧 SYN 报文」比「最新的 SYN 」 报文早到达了服务端；<br>那么此时服务端就会回一个 SYN + ACK 报文给客户端；<br>客户端收到后可以根据自身的上下文，判断这是一个历史连接（序列号过期或超时），那么客户<br>端就会发送 RST 报文给服务端，表示中止这一次连接。</p>
</blockquote>
</li>
<li><p>同步双方初始序列号</p>
<blockquote>
<p>序列号是可靠传输的一个关键因素，它的作用：<br>接收方可以去除重复的数据；<br>接收方可以根据数据包的序列号按序接收；<br>可以标识发送出去的数据包中， 哪些是已经被对方收到的；</p>
</blockquote>
</li>
<li><p>避免资源浪费</p>
<blockquote>
<p>「两次握手」：如果客户端的 SYN 阻塞了，重复发送多次 SYN 报文，那么服务器在收到请求后就会建立多个冗余的无效链接，造成不必要的资源浪费。</p>
<p>无法防止历史连接的建立，会造成双方资源的浪费，也无法可靠的同步双方序列号；</p>
</blockquote>
</li>
</ol>
<h4 id="TCP四次挥手"><a href="#TCP四次挥手" class="headerlink" title="TCP四次挥手"></a>TCP四次挥手</h4><p><img src="网络常见知识.assets\1599657284840.png" alt="1599657284840"></p>
<p>等待服务端处理完数据后，也向客户端发送 FIN 报文，之后服务端进入 LAST_ACK 状态</p>
<p><strong>为什么会有四次</strong></p>
<p>服务端通常需要等待完成数据的发送和处理，所以服务端的 ACK 和 FIN 一般都会分开发送，从而比三次握手导致多了一次。</p>
<p><strong>TIME_WAIT 等待的时间是 2MSL</strong></p>
<p>MSL 是 Maximum Segment Lifetime，报文最大生存时间，它是任何报文在网络上存在的最长时间，超过这个时间报文将被丢弃。因为 TCP 报文基于是 IP 协议的，而 IP 头中有一个 TTL 字段，是 IP 数据报可以经过的最大路由数，每经过一个处理他的路由器此值就减 1，当此值为 0 则数据报将被丢弃，同时发送 ICMP 报文通知源主机。</p>
<p>MSL 与 TTL 的区别： MSL 的单位是时间，而 TTL 是经过路由跳数。所以 MSL 应该要大于等于 TTL消耗为 0 的时间，以确保报文已被自然消亡。</p>
<p>TIME_WAIT 等待 2 倍的 MSL，比较合理的解释是： 网络中可能存在来自发送方的数据包，当这些发送方的数据包被接收方处理后又会向对方发送响应，所以一来一回需要等待 2 倍的时间。</p>
<p><strong>TIME-WAIT的原因</strong></p>
<ol>
<li><p>防止旧连接的数据包</p>
<blockquote>
<p>经过 2MSL 这个时间，足以让两个方向上的数据包都被丢弃，使得原来连接的数据包在网络中都自然消失，再出现的数据包一定都是新建立连接所产生的。</p>
</blockquote>
</li>
<li><p>保证连接正确关闭</p>
<blockquote>
<p>TIME-WAIT 作用是等待足够的时间以确保最后的 ACK 能让被动关闭方接收，从而帮助其正常关闭。</p>
</blockquote>
</li>
</ol>
<h4 id="TCP的重传机制"><a href="#TCP的重传机制" class="headerlink" title="TCP的重传机制"></a>TCP的重传机制</h4><p>TCP 实现可靠传输的方式之一，是通过序列号与确认应答。</p>
<p>TCP 针对数据包丢失的情况，会用重传机制解决。</p>
<h5 id="超时重传"><a href="#超时重传" class="headerlink" title="超时重传"></a>超时重传</h5><p>在发送数据时，设定一个定时器，当超过指定的时间后，没有收到对方的 ACK 确认应答报文，就会重发该数据</p>
<p>TCP 会在以下两种情况发生超时重传：</p>
<ul>
<li>数据包丢失</li>
<li>确认应答丢失</li>
</ul>
<p><img src="网络常见知识.assets\1599658362894.png" alt="1599658362894"></p>
<p>RTT （Round-Trip Time 往返时延）：是数据从网络一端传送到另一端所需的时间，也就是包的往返时间。</p>
<p>超时重传时间是以 RTO （Retransmission Timeout 超时重传时间）表示，超时重传时间 RTO 的值应该略大于报文往返 RTT 的值。</p>
<h5 id="快速重传"><a href="#快速重传" class="headerlink" title="快速重传"></a>快速重传</h5><p>快速重传的工作方式是当收到三个相同的 ACK 报文时，会在定时器过期之前，重传丢失的报文段。不以时间为驱动，而是以数据驱动重传。只解决了超时时间的问题，面临着另外一个问题。就是重传的时候，是重传之前的一个，还是重传所有的问题。</p>
<p><img src="网络常见知识.assets\1599701097569.png" alt="1599701097569"></p>
<h5 id="SACK-方法"><a href="#SACK-方法" class="headerlink" title="SACK 方法"></a>SACK 方法</h5><p>Selective Acknowledgment 选择性确认</p>
<p>在 TCP 头部「选项」字段里加一个 SACK 的东西，它可以将缓存的地图发送给发送方，这样发送方就可以知道哪些数据收到了，哪些数据没收到，知道了这些信息，就可以只重传丢失的数据。</p>
<h5 id="Duplicate-SACK"><a href="#Duplicate-SACK" class="headerlink" title="Duplicate SACK"></a>Duplicate SACK</h5><p>使用了 SACK 来告诉「发送方」有哪些数据被重复接收了。</p>
<h4 id="滑动窗口"><a href="#滑动窗口" class="headerlink" title="滑动窗口"></a>滑动窗口</h4><p>TCP 是每发送一个数据，都要进行一次确认应答。当上一个数据包收到了应答了， 再发送下一个。缺点：数据包的往返时间越长，通信的效率就越低。</p>
<p>窗口大小就是指无需等待确认应答，而可以继续发送数据的最大值。这个字段是接收端告诉发送端自己还有多少缓冲区可以接收数据。于是发送端就可以根据这个接收端的处理能力来发送数据，而不会导致接收端处理不过来。</p>
<p><strong>发送方的滑动窗口</strong></p>
<p><img src="网络常见知识.assets\1599701589673.png" alt="1599701589673"></p>
<p>TCP 滑动窗口方案使用三个指针来跟踪在四个传输类别中的每一个类别中的字节。其中两个指针是绝对指针（指特定的序列号），一个是相对指针（需要做偏移）。</p>
<p><strong>接收方的滑动窗口</strong></p>
<p><img src="网络常见知识.assets\1599701705091.png" alt="1599701705091"></p>
<h4 id="流量控制"><a href="#流量控制" class="headerlink" title="流量控制"></a>流量控制</h4><p>发送方不能无脑的发数据给接收方，要考虑接收方处理能力。如果一直无脑的发数据给对方，但对方处理不过来，那么就会导致触发重发机制，从而导致网络流量的无端的浪费。为了解决这种现象发生，TCP 提供一种机制可以让「发送方」根据「接收方」的实际接收能力控制发送的数据量，这就是所谓的流量控制。</p>
<p><strong>窗口关闭，潜在死锁</strong></p>
<p><img src="网络常见知识.assets\1599702117779.png" alt="1599702117779"></p>
<p>TCP 为每个连接设有一个持续定时器，只要 TCP 连接一方收到对方的零窗口通知，就启动持续计时器。如果持续计时器超时，就会发送窗口探测 ( Window probe ) 报文，而对方在确认这个探测报文时，给出自己现在的接收窗口大小。</p>
<p>窗口探测的次数一般为 3 次，每次大约 30-60 秒（不同的实现可能会不一样）。如果 3 次过后接收窗口还是 0 的话，有的 TCP 实现就会发 RST 报文来中断连接。</p>
<p><strong>糊涂窗口综合症</strong></p>
<p>如果接收方腾出几个字节并告诉发送方现在有几个字节的窗口，而发送方会义无反顾地发送这几个字节，这就是糊涂窗口综合症。TCP + IP 头有 40 个字节，为了传输那几个字节的数据，要达上这么大的开销，这太不经济了。</p>
<ul>
<li>让接收方不通告小窗口给发送方</li>
<li>让发送方避免发送小数据</li>
</ul>
<h4 id="拥塞控制"><a href="#拥塞控制" class="headerlink" title="拥塞控制"></a>拥塞控制</h4><p>避免「发送方」的数据填满整个网络。</p>
<p>拥塞控制主要是四个算法：</p>
<ul>
<li><p>慢启动：当发送方每收到一个 ACK，拥塞窗口 cwnd 的大小就会加 1。（是指数性的增长）</p>
</li>
<li><p>拥塞避免：拥塞避免算法：每当收到一个 ACK 时，cwnd 增加 1/cwnd（线性增长）</p>
</li>
<li><p>拥塞发生：（会发生数据包重传）</p>
<blockquote>
<p>超时重传：ssthresh 设为 cwnd/2；cwnd 重置为 1，重新进入慢启动</p>
<p>快速重传：cwnd = cwnd/2 ，也就是设置为原来的一半;ssthresh = cwnd ;进入快速恢复算法</p>
</blockquote>
</li>
<li><p>快速恢复</p>
<blockquote>
<p>拥塞窗口 cwnd = ssthresh + 3 （ 3 的意思是确认有 3 个数据包被收到了）；<br>重传丢失的数据包；<br>如果再收到重复的 ACK，那么 cwnd 增加 1；<br>如果收到新数据的 ACK 后，把 cwnd 设置为第一步中的 ssthresh 的值，原因是该 ACK 确认了新<br>的数据，说明从 duplicated ACK 时的数据都已收到，该恢复过程已经结束，可以回到恢复之前的<br>状态了，也即再次进入拥塞避免状态；</p>
</blockquote>
</li>
</ul>
<h4 id="TCP半连接队和全连接队"><a href="#TCP半连接队和全连接队" class="headerlink" title="TCP半连接队和全连接队"></a>TCP半连接队和全连接队</h4><ul>
<li>半连接队列，也称 SYN 队列；</li>
<li>全连接队列，也称 accepet 队列；</li>
</ul>
<h4 id="TCP分割数据"><a href="#TCP分割数据" class="headerlink" title="TCP分割数据"></a>TCP分割数据</h4><p>MTU ：一个网络包的最大长度，以太网中一般为 1500 字节；<br>MSS ：除去 IP 和 TCP 头部之后，一个网络包所能容纳的 TCP 数据的最大长度；</p>
<p><img src="网络常见知识.assets\1599647484820.png" alt="1599647484820"></p>
<p>如果 HTTP 请求消息比较长，超过了 MSS 的长度，这时 TCP 就需要把 HTTP 的数据拆解成一块块的数据发送，而不是一次性发送所有数据。</p>
<p><strong>如果使用IP分片</strong></p>
<p>IP 层本身没有超时重传机制，它由传输层的 TCP 来负责超时和重传。如果一个 IP 分片丢失，整个 IP 报文的所有分片都得重传。</p>
<p>当接收方发现 TCP 报文（头部 + 数据）的某一片丢失后，则不会响应 ACK 给对方，那么发送方的TCP 在超时后，就会重发「整个 TCP 报文（头部 + 数据）」。</p>
<h4 id="TCP报文生成"><a href="#TCP报文生成" class="headerlink" title="TCP报文生成"></a>TCP报文生成</h4><p>TCP 协议里面会有两个端口，一个是浏览器监听的端口（通常是随机生成的），一个是 Web 服务器监听的端口（HTTP 默认端口号是 80 ， HTTPS 默认端口号是 443 ）。</p>
<p>网络包：</p>
<p><img src="网络常见知识.assets\1599647574610.png" alt="1599647574610"></p>
<h4 id="SYN-攻击"><a href="#SYN-攻击" class="headerlink" title="SYN 攻击"></a>SYN 攻击</h4><p>假设攻击者短时间伪造不同 IP 地址的 SYN 报文，服务端每接收到一个 SYN 报文，就进入SYN_RCVD 状态，但服务端发送出去的 ACK + SYN 报文，无法得到未知 IP 主机的 ACK 应答，久而久之就会占满服务端的 SYN 接收队列（未连接队列），使得服务器不能为正常用户服务。</p>
<p><strong>解决办法</strong></p>
<ol>
<li><p>通过修改 Linux 内核参数，控制队列大小和当队列满时应做什么处理。</p>
<blockquote>
<p>当网卡接收数据包的速度大于内核处理的速度时，会有一个队列保存这些数据包。</p>
<p>SYN_RCVD 状态连接的最大个数：</p>
<p>超出处理能时，对新的 SYN 直接回报 RST，丢弃连接：</p>
</blockquote>
</li>
</ol>
<h3 id="IP-报文头部"><a href="#IP-报文头部" class="headerlink" title="IP 报文头部"></a>IP 报文头部</h3><p>TCP 模块在执行连接、收发、断开等各阶段操作时，都需要委托 IP 模块将数据封装成网络包发送给通信对象。</p>
<p><img src="网络常见知识.assets\1599647663399.png" alt="1599647663399"></p>
<p>HTTP 是经过 TCP 传输的，所以在 IP 包头的协议号，要填写为 06 （十六进制），表示协议为TCP。</p>
<p>当存在多个网卡时，在填写源地址 IP 时，就需要判断到底应该填写哪个地址。</p>
<p>目标地址和子网掩码都是 0.0.0.0 ，这表示默认网关，如果其他所有条目都无法匹配，就会自动匹配这一行。并且后续就把包发给路由器， Gateway 即是路由器的 IP 地址。</p>
<h3 id="MAC头部"><a href="#MAC头部" class="headerlink" title="MAC头部"></a>MAC头部</h3><p>在 MAC 包头里需要发送方 MAC 地址和接收方目标 MAC 地址，用于两点之间的传输。<br>一般在 TCP/IP 通信里，MAC 包头的协议类型只使用：</p>
<ul>
<li>0800 ： IP 协议</li>
<li>0806 ： ARP 协议</li>
</ul>
<p>MAC 地址是在网卡生产时写入到 ROM 里的，只要将这个值读取出来写入到 MAC 头部就可以了。</p>
<h3 id="网卡"><a href="#网卡" class="headerlink" title="网卡"></a>网卡</h3><p>IP 生成的网络包只是存放在内存中的一串二进制数字信息，没有办法直接发送给对方。因此，需要<strong>将数字信息转换为电信号</strong>，才能在网线上传输，负责执行这一操作的是<strong>网卡，要控制网卡还需要靠网卡驱动程序。</strong></p>
<p>网卡驱动从 IP 模块获取到包之后，会将其复制到网卡内的缓存区中，接着会在其开头加上<strong>报头和起始帧分界符</strong>，在末尾加上<strong>用于检测错误的帧校验序列</strong>。</p>
<p><img src="网络常见知识.assets\1599648804365.png" alt="1599648804365"></p>
<p>网卡会将包转为电信号，通过网线发送出去</p>
<h3 id="交换机"><a href="#交换机" class="headerlink" title="交换机"></a>交换机</h3><p>交换机的设计是将网络包原样转发到目的地。交换机工作在MAC 层，也称为二层网络设备。</p>
<p>交换机的端口不具有 MAC 地址，直接接收所有的包并存放到缓冲区中，接下来需要查询一下这个包的接收方 MAC 地址是否已经在 MAC 地址表中有记录。根据 MAC 地址表查找 MAC 地址，然后将信号发送到相应的端口。</p>
<p><img src="网络常见知识.assets\1599648944157.png" alt="1599648944157"></p>
<h3 id="路由器"><a href="#路由器" class="headerlink" title="路由器"></a>路由器</h3><p>网络包经过交换机之后，现在到达了路由器，并在此被转发到下一个路由器或目标设备。</p>
<ul>
<li>因为路由器是基于 IP 设计的，俗称三层网络设备，路由器的各个端口都具有 MAC 地址和 IP 地址；</li>
<li>而交换机是基于以太网设计的，俗称二层网络设备，交换机的端口不具有 MAC 地址。</li>
</ul>
<p>完成包接收操作之后，路由器就会去掉包开头的 MAC 头部。<br>MAC 头部的作用就是将包送达路由器，其中的接收方 MAC 地址就是路由器端口的 MAC 地址。因此，当包到达路由器之后，MAC 头部的任务就完成了，于是 MAC 头部就会被丢弃。</p>
<p><strong>查询路由表判断转发目标</strong></p>
<p><img src="网络常见知识.assets\1599649188561.png" alt="1599649188561"></p>
<h3 id="服务器和客户端"><a href="#服务器和客户端" class="headerlink" title="服务器和客户端"></a>服务器和客户端</h3><p><img src="网络常见知识.assets\1599649299268.png" alt="1599649299268"></p>
<h3 id="路由器和交换机"><a href="#路由器和交换机" class="headerlink" title="路由器和交换机"></a>路由器和交换机</h3><p>现在家里的路由器其实有了交换机的功能了。交换机可以简单理解成一个设备，三台电脑网线接到这个设备，这三台电脑就可以互相通信了，交换机嘛，交换数据这么理解就可以。</p>
<h2 id="TCP三次握手，四次挥手"><a href="#TCP三次握手，四次挥手" class="headerlink" title="TCP三次握手，四次挥手"></a>TCP三次握手，四次挥手</h2>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/http/" rel="tag"># http</a>
              <a href="/tags/tcp/" rel="tag"># tcp</a>
              <a href="/tags/IP/" rel="tag"># IP</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/09/07/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9F%A5%E8%AF%86%E7%82%B9%E5%A4%A7%E6%80%BB%E7%BB%93/" rel="prev" title="数据库知识点大总结">
      <i class="fa fa-chevron-left"></i> 数据库知识点大总结
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/09/15/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="next" title="操作系统">
      操作系统 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP知识"><span class="nav-text">HTTP知识</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#安全和幂等的概念"><span class="nav-text">安全和幂等的概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP的优缺点"><span class="nav-text">HTTP的优缺点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IP知识"><span class="nav-text">IP知识</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#基础知识"><span class="nav-text">基础知识</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IP-地址的分类"><span class="nav-text">IP 地址的分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IP分类的优缺点"><span class="nav-text">IP分类的优缺点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#无分类地址-CIDR"><span class="nav-text">无分类地址 CIDR</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#子网划分"><span class="nav-text">子网划分</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#公有-IP-地址与私有-IP-地址"><span class="nav-text">公有 IP 地址与私有 IP 地址</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IP-地址与路由控制"><span class="nav-text">IP 地址与路由控制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#环回地址"><span class="nav-text">环回地址</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IP-分片与重组"><span class="nav-text">IP 分片与重组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IPv6-基本认识"><span class="nav-text">IPv6 基本认识</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IPv6-的优点"><span class="nav-text">IPv6 的优点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IPv6-地址的类型"><span class="nav-text">IPv6 地址的类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IPv4-首部与-IPv6-首部"><span class="nav-text">IPv4 首部与 IPv6 首部</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IP（网络层）-和-MAC-（数据链路层）之间的区别和关系"><span class="nav-text">IP（网络层） 和 MAC （数据链路层）之间的区别和关系</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ARP"><span class="nav-text">ARP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RARP"><span class="nav-text">RARP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DHCP"><span class="nav-text">DHCP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NAT"><span class="nav-text">NAT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ICMP（互联网控制报文协议）"><span class="nav-text">ICMP（互联网控制报文协议）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IGMP（因特网组管理协议）"><span class="nav-text">IGMP（因特网组管理协议）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Ping命令"><span class="nav-text">Ping命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ping-的发送和接收过程"><span class="nav-text">ping 的发送和接收过程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#访问网址"><span class="nav-text">访问网址</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#URL解析"><span class="nav-text">URL解析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#生产-HTTP-请求信息"><span class="nav-text">生产 HTTP 请求信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查询真实IP地址"><span class="nav-text">查询真实IP地址</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#协议栈"><span class="nav-text">协议栈</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP"><span class="nav-text">TCP</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#基础知识-1"><span class="nav-text">基础知识</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UDP和TCP"><span class="nav-text">UDP和TCP</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TCP-报文头部的格式"><span class="nav-text">TCP 报文头部的格式:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#三次握手连接"><span class="nav-text">三次握手连接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#三次握手的原因"><span class="nav-text">三次握手的原因</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TCP四次挥手"><span class="nav-text">TCP四次挥手</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TCP的重传机制"><span class="nav-text">TCP的重传机制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#滑动窗口"><span class="nav-text">滑动窗口</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#流量控制"><span class="nav-text">流量控制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#拥塞控制"><span class="nav-text">拥塞控制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TCP半连接队和全连接队"><span class="nav-text">TCP半连接队和全连接队</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TCP分割数据"><span class="nav-text">TCP分割数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TCP报文生成"><span class="nav-text">TCP报文生成</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SYN-攻击"><span class="nav-text">SYN 攻击</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IP-报文头部"><span class="nav-text">IP 报文头部</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MAC头部"><span class="nav-text">MAC头部</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#网卡"><span class="nav-text">网卡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#交换机"><span class="nav-text">交换机</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#路由器"><span class="nav-text">路由器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#服务器和客户端"><span class="nav-text">服务器和客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#路由器和交换机"><span class="nav-text">路由器和交换机</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TCP三次握手，四次挥手"><span class="nav-text">TCP三次握手，四次挥手</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="QQAI"
      src="/images/header.jpg">
  <p class="site-author-name" itemprop="name">QQAI</p>
  <div class="site-description" itemprop="description">Home is behind, the world ahead</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">28</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">36</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">QQAI</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.1
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.7.1
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
      
<script type="text/x-mathjax-config">
    MathJax.Ajax.config.path['mhchem'] = '//cdn.jsdelivr.net/npm/mathjax-mhchem@3';

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        extensions: ['[mhchem]/mhchem.js'],
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    

  

</body>
</html>
